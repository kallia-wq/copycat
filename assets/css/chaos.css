
:root{
  --ink:#0f0; --bg:#000; --mut:#7a7a7a; --line:#262626;
  --r:#ff004d; --g:#00ffcc; --b:#7a00ff;
}
*{box-sizing:border-box}
html,body{margin:0;padding:0}
body{
  background: repeating-radial-gradient(circle at 50% 50%, #000 0 6px, #0a0a0a 6px 12px);
  color: var(--ink);
  font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
  line-height:1.45;
  text-shadow: 0 0 2px var(--ink), 0 0 6px #f0f;
  cursor: crosshair;
  overflow-x:hidden;
  animation: hueShift 9s infinite alternate, jitter 0.35s infinite;
}
a{color:inherit;text-decoration:none}
img,video{max-width:100%; display:block}
header, footer{position:sticky; top:0; z-index:10; background: rgba(0,0,0,.8); backdrop-filter: blur(4px); border-bottom:1px solid var(--line)}
footer{position:static; border-top:1px solid var(--line); border-bottom:0}
.site-header{display:flex; align-items:center; justify-content:space-between; padding:10px 14px}
.brand{font-weight:800; letter-spacing:.6px}
.site-nav a{margin-left:10px; padding:6px 8px; border:1px solid var(--line); border-radius:8px}
.site-nav a:hover{background:#020202}
main{position:relative; z-index:1}
.center{text-align:center}
.hero{padding:12vh 24px 3vh; text-align:center}
.huge{font-size: clamp(28px, 7.5vw, 120px)}

.grid{display:grid; grid-template-columns:repeat(auto-fill,minmax(160px,1fr)); gap:10px; padding:14px}
.card{position:relative; border:1px solid var(--line); border-radius:10px; overflow:hidden; background:#050505}
.card .cap{position:absolute; inset:auto 6px 6px 6px; font-size:.8rem; color:#9aff; text-shadow:none; background:rgba(0,0,0,.5); padding:2px 6px; border-radius:6px}
.layer{position:fixed; inset:0; pointer-events:none; mix-blend-mode:screen}
.scanlines{background: repeating-linear-gradient(0deg, rgba(0,0,0,.0) 0 2px, rgba(255,255,255,.04) 2px 4px)}
.rgb-split{box-shadow: 3px 0 0 var(--r), -3px 0 0 var(--g), 0 0 0 0 var(--b) inset}
.flick{animation: flicker 3s infinite}
@keyframes flicker{0%,100%{opacity:1} 5%{opacity:.95} 11%{opacity:.98} 17%{opacity:.9} 33%{opacity:1} 55%{opacity:.95} 73%{opacity:.99}}
@keyframes hueShift{0%{filter:hue-rotate(0)}100%{filter:hue-rotate(360deg)}}
@keyframes jitter{0%,100%{transform:translate(0,0)} 50%{transform:translate(.6px,-.6px)}}

.glitch{position:relative; display:inline-block}
.glitch::before,.glitch::after{content:attr(data-text); position:absolute; inset:0; mix-blend-mode:screen; opacity:.6}
.glitch::before{transform:translateX(2px); color:var(--r)}
.glitch::after{transform:translateX(-2px); color:var(--g)}

.btn{border:1px solid var(--line); border-radius:999px; padding:8px 12px; background:#030303}
.stack{display:grid; place-items:center; min-height:38vh; padding:10px}
.overlay{position:fixed; inset:0; pointer-events:none; background:
  radial-gradient(120px 60px at 30% 5%, rgba(255,0,77,.08), transparent),
  radial-gradient(200px 100px at 80% 80%, rgba(0,255,255,.08), transparent);
  z-index:0;}

.mmeter{position:fixed; left:10px; bottom:10px; font-size:.8rem; background:#030303; padding:6px 10px; border:1px solid var(--line); border-radius:10px}
.mmeter b{color:#fff}

.media{width:100%; aspect-ratio: 1/1; overflow:hidden}
.media-el{width:100%; height:100%; object-fit:cover}
.hero-sub{max-width:900px; margin:10px auto; color:#bdf}

.marquee{white-space:nowrap; overflow:hidden; border-top:1px solid var(--line); border-bottom:1px solid var(--line); background:#050505}
.marquee span{display:inline-block; padding:6px 18px; animation: scroll 12s linear infinite}
@keyframes scroll{from{transform:translateX(0)} to{transform:translateX(-100%)}}

.invert{filter: invert(1) hue-rotate(180deg)}

.cursor-trail{position:fixed; pointer-events:none; opacity:.6; transform:translate(-50%,-50%); font-size:12px}
/* chaotic pages */
.corpse{padding:24px}
.corpse h2{margin:10px 0}
.deadlog{white-space:pre-wrap; border:1px solid var(--line); padding:12px; border-radius:12px; background:#050505}


/* --- interactive post modal + reactions --- */
.modal{position:fixed; inset:0; display:none; align-items:center; justify-content:center; z-index:99}
.modal.active{display:flex}
.modal .backdrop{position:absolute; inset:0; background:rgba(0,0,0,.6); backdrop-filter: blur(3px)}
.modal .sheet{position:relative; width:min(92vw,720px); background:#050505; border:1px solid var(--line); border-radius:14px; box-shadow:0 12px 30px rgba(0,0,0,.45); overflow:hidden}
.modal .sheet header{display:flex; align-items:center; justify-content:space-between; padding:10px 12px; border-bottom:1px solid var(--line)}
.modal .sheet main{padding:12px}
.modal .actions{display:flex; gap:10px; flex-wrap:wrap; padding:8px 12px; border-top:1px solid var(--line)}
.chip{border:1px solid var(--line); border-radius:999px; padding:6px 10px; background:#080808; cursor:pointer}
.chip.active{box-shadow: 0 0 0 2px rgba(255,0,77,.25)}
.meta{display:flex; gap:12px; color:#bdf; font-size:.9rem}
.count{font-weight:700}
.card.interactive{cursor:pointer}
.heart-pop{position:absolute; pointer-events:none; font-size:22px; transform:translate(-50%,-50%); animation: pop .6s ease-out forwards}
@keyframes pop{0%{opacity:0; transform:translate(-50%,-50%) scale(.6)}70%{opacity:1}100%{opacity:0; transform:translate(-50%,-50%) scale(1.3)}}
.reply{margin:8px 12px; border-left:2px solid var(--line); padding-left:8px}


.ingestbar{display:flex; gap:12px; align-items:center; padding:8px 14px; border-bottom:1px solid var(--line); background:#050505; position:sticky; top:52px; z-index:5}
.dropzone{display:flex; gap:8px; align-items:center; border:1px dashed var(--line); padding:8px 10px; border-radius:10px}
.dropzone.active{box-shadow:0 0 0 2px rgba(0,255,204,.25)}
.badge{padding:2px 6px; border:1px solid var(--line); border-radius:999px; font-size:.7rem; text-transform:uppercase; opacity:.8}


/* --- live chat overlay (draggable) --- */
.chat-float{position:fixed; right:18px; bottom:18px; width:min(92vw,340px); background:#050505; border:1px solid var(--line); border-radius:12px; box-shadow:0 10px 28px rgba(0,0,0,.45); display:grid; grid-template-rows:auto 1fr auto; z-index:98}
.chat-head{display:flex; align-items:center; justify-content:space-between; padding:8px 10px; border-bottom:1px solid var(--line); cursor:move; user-select:none}
.chat-head .lights{display:flex; gap:6px}
.chat-head .dot{width:10px;height:10px;border-radius:50%}
.chat-head .dot.on{background:#0f0} .chat-head .dot.off{background:#444} .chat-head .dot.warn{background:#ff004d}
.chat-body{max-height:40vh; overflow:auto; padding:8px 10px; display:flex; flex-direction:column; gap:8px}
.msg{border:1px solid var(--line); border-radius:10px; padding:6px 8px; background:#0a0a0a; max-width:92%}
.msg.me{align-self:flex-end; background:#0e0e0e}
.msg .meta{font-size:.72rem; opacity:.7}
.chat-input{display:flex; gap:6px; padding:8px 10px; border-top:1px solid var(--line)}
.chat-input input{flex:1; background:#0b0b0b; color:var(--ink); border:1px solid var(--line); border-radius:10px; padding:8px}
.chat-input button{border:1px solid var(--line); background:#0b0b0b; color:var(--ink); border-radius:10px; padding:8px 10px}

/* modal traceback */
.trace{margin-top:8px; padding:8px; border:1px dashed var(--line); border-radius:10px; background:#070707}
.trace .row{display:flex; gap:8px; font-size:.85rem; color:#bdf; flex-wrap:wrap}
.confess{margin-top:8px; padding:8px; border:1px dashed var(--line); border-radius:10px; background:#070707; color:#f9c}
/* ================================
   FILE: assets/css/chaos.css
   Section: Neon + Modes (cleaned)
   ================================ */

  /* Neon system */
  --neon-r:#ff004d; --neon-g:#00ffcc; --neon-b:#7a00ff;
  --neon-ink:#eaffff;

  /* Party/Perf scalars */
  --party-mult: 1;
  --party-speed: 1;
  --party-hue: 0deg;
}

/* Base buttons/links (keep your existing look) */
.btn, .site-nav a{
  position: relative;
  isolation: isolate;
  background:#030303;
  color: var(--ink);
  border:1px solid var(--line);
  border-radius: 999px;
  padding: 8px 12px;
  transition: box-shadow .18s ease, color .18s ease, border-color .18s ease, transform .18s ease;
  text-shadow: none;
  will-change: box-shadow, transform;
  overflow: hidden;
}

/* Neon base + color variants */
.neon { --neon: var(--neon-g); }
.neon-r { --neon: var(--neon-r); }
.neon-g { --neon: var(--neon-g); }
.neon-b { --neon: var(--neon-b); }

/* Soft outer ring baseline */
.neon::after{
  content:"";
  position:absolute; inset:-1px; border-radius:inherit; pointer-events:none; z-index:-1;
  /* Fallback if color-mix unsupported: duplicated RGBA ring below */
  box-shadow:
    0 0 0 1px color-mix(in oklab, var(--neon) 45%, transparent),
    0 0 12px 0 color-mix(in oklab, var(--neon) 30%, transparent),
    0 0 0 1px rgba(0,255,204,.25);
  opacity:.55;
}

/* Hover/Focus glow */
.neon:hover, .neon:focus-visible{
  border-color: color-mix(in oklab, var(--neon) 60%, var(--line));
  box-shadow:
    0 0 6px 0 color-mix(in oklab, var(--neon) 60%, transparent),
    0 0 18px 2px color-mix(in oklab, var(--neon) 45%, transparent),
    0 0 36px 6px color-mix(in oklab, var(--neon) 30%, transparent),
    0 0 18px 2px rgba(0,255,204,.2);
  color: var(--neon-ink);
  transform: translateY(-1px);
}

/* Sweep highlight */
.neon::before{
  content:"";
  position:absolute;
  top:-120%; left:-20%;
  width:40%; height:340%;
  transform: rotate(18deg);
  background: radial-gradient(closest-side, color-mix(in oklab, var(--neon) 60%, #fff) 45%, transparent 55%);
  opacity:0; pointer-events:none; filter: blur(6px);
}
@media (prefers-reduced-motion: no-preference){
  .neon:hover::before, .neon:focus-visible::before { animation: neonSweep .7s ease-out; }
}
@keyframes neonSweep{
  0%{ left:-25%; opacity:0; }
  10%{ opacity:.45; }
  100%{ left:125%; opacity:0; }
}

/* Random “lit” pulse (JS toggles .lit) */
@media (prefers-reduced-motion: no-preference){
  .neon.lit{
    color: var(--neon-ink);
    border-color: color-mix(in oklab, var(--neon) 70%, var(--line));
    box-shadow:
      0 0 8px 0 color-mix(in oklab, var(--neon) 70%, transparent),
      0 0 20px 2px color-mix(in oklab, var(--neon) 55%, transparent),
      0 0 44px 10px color-mix(in oklab, var(--neon) 35%, transparent);
    animation: neonPulse .9s ease-in-out alternate 2;
  }
  @keyframes neonPulse{
    0%{ transform: translateY(0) scale(1); filter: saturate(1); }
    100%{ transform: translateY(-1px) scale(1.03); filter: saturate(1.2); }
  }
}

/* Party mode: stronger glow + pulsing aura + temporary page hue override */
.party-on { --party-mult: 1.8; --party-speed: 1.6; }
.party-bg { filter: hue-rotate(var(--party-hue)); }

.neon, .site-nav a.neon{ transition: box-shadow .18s ease, color .18s ease, border-color .18s ease, transform .18s ease; }
.neon.lit, .party-on .neon:hover, .party-on .neon:focus-visible{
  box-shadow:
    0 0 calc(10px * var(--party-mult)) color-mix(in oklab, var(--neon) 70%, transparent),
    0 0 calc(26px * var(--party-mult)) color-mix(in oklab, var(--neon) 55%, transparent),
    0 0 calc(60px * var(--party-mult)) color-mix(in oklab, var(--neon) 40%, transparent);
}
@media (prefers-reduced-motion: no-preference){
  .party-on .neon::after{
    animation: neonAura calc(1.8s / var(--party-speed)) ease-in-out infinite;
  }
  @keyframes neonAura{
    0%{
      box-shadow:
        0 0 0 1px color-mix(in oklab, var(--neon) 60%, transparent),
        0 0 12px 0 color-mix(in oklab, var(--neon) 45%, transparent);
    }
    100%{
      box-shadow:
        0 0 0 2px color-mix(in oklab, var(--neon) 70%, transparent),
        0 0 22px 4px color-mix(in oklab, var(--neon) 55%, transparent);
    }
  }
  /* Confetti spark on lit; disabled in perf-on */
  .neon.lit::before{
    content:"";
    position:absolute; inset:-10%; border-radius:inherit; pointer-events:none;
    background:
      radial-gradient(6px 6px at 20% 40%, color-mix(in oklab, var(--neon) 80%, #fff) 70%, transparent 71%),
      radial-gradient(5px 5px at 70% 60%, color-mix(in oklab, var(--neon) 70%, #fff) 70%, transparent 71%),
      radial-gradient(4px 4px at 40% 80%, color-mix(in oklab, var(--neon) 70%, #fff) 70%, transparent 71%);
    filter: blur(0.6px);
    opacity: 0;
    animation: confetti .9s ease-out forwards;
  }
  @keyframes confetti{
    0%{ opacity:0; transform: translateY(0) }
    30%{ opacity:.9; transform: translateY(-2px) }
    100%{ opacity:0; transform: translateY(2px) }
  }
}

/* Performance mode: damp it down for weak GPUs */
.perf-on { --party-mult: .7; --party-speed: .8; }
.perf-on .neon::after{ animation: none !important; }
.perf-on .neon.lit{
  box-shadow:
    0 0 6px 0 color-mix(in oklab, var(--neon) 50%, transparent),
    0 0 14px 1px color-mix(in oklab, var(--neon) 35%, transparent);
}
.perf-on .neon.lit::before{ display:none; }

<style>
.notavirus {
  position: fixed;
  font-family: monospace;
  font-size: 10px;
  color: #0ff;
  background: rgba(0, 0, 0, 0.7);
  border: 1px solid #0ff;
  border-radius: 8px;
  padding: 8px 12px;
  z-index: 9999;
  white-space: pre;
  pointer-events: none;
  opacity: 0.95;
  text-shadow: 0 0 4px #0ff, 0 0 8px #0ff, 0 0 12px #0ff;
  animation: floaty 6s ease-in-out infinite alternate, flicker 2s infinite;
}

@keyframes floaty {
  0% { transform: translateY(0) rotate(0deg); }
  50% { transform: translateY(-8px) rotate(1deg); }
  100% { transform: translateY(5px) rotate(-1deg); }
}

@keyframes flicker {
  0%, 19%, 21%, 23%, 25%, 54%, 56%, 100% { opacity: 0.95; }
  20%, 24%, 55% { opacity: 0.4; }
}
</style>
/* ================================
   FILE: assets/css/chaos.css
   Section: Neon + Modes (cleaned)
   ================================ */

:root{
  --ink:#0f0; --bg:#000; --mut:#7a7a7a; --line:#262626;
  --r:#ff004d; --g:#00ffcc; --b:#7a00ff;

  /* Neon system */
  --neon-r:#ff004d; --neon-g:#00ffcc; --neon-b:#7a00ff;
  --neon-ink:#eaffff;

  /* Party/Perf scalars */
  --party-mult: 1;
  --party-speed: 1;
  --party-hue: 0deg;
}

/* Base buttons/links (keep your existing look) */
.btn, .site-nav a{
  position: relative;
  isolation: isolate;
  background:#030303;
  color: var(--ink);
  border:1px solid var(--line);
  border-radius: 999px;
  padding: 8px 12px;
  transition: box-shadow .18s ease, color .18s ease, border-color .18s ease, transform .18s ease;
  text-shadow: none;
  will-change: box-shadow, transform;
  overflow: hidden;
}

/* Neon base + color variants */
.neon { --neon: var(--neon-g); }
.neon-r { --neon: var(--neon-r); }
.neon-g { --neon: var(--neon-g); }
.neon-b { --neon: var(--neon-b); }

/* Soft outer ring baseline */
.neon::after{
  content:"";
  position:absolute; inset:-1px; border-radius:inherit; pointer-events:none; z-index:-1;
  /* Fallback if color-mix unsupported: duplicated RGBA ring below */
  box-shadow:
    0 0 0 1px color-mix(in oklab, var(--neon) 45%, transparent),
    0 0 12px 0 color-mix(in oklab, var(--neon) 30%, transparent),
    0 0 0 1px rgba(0,255,204,.25);
  opacity:.55;
}

/* Hover/Focus glow */
.neon:hover, .neon:focus-visible{
  border-color: color-mix(in oklab, var(--neon) 60%, var(--line));
  box-shadow:
    0 0 6px 0 color-mix(in oklab, var(--neon) 60%, transparent),
    0 0 18px 2px color-mix(in oklab, var(--neon) 45%, transparent),
    0 0 36px 6px color-mix(in oklab, var(--neon) 30%, transparent),
    0 0 18px 2px rgba(0,255,204,.2);
  color: var(--neon-ink);
  transform: translateY(-1px);
}

/* Sweep highlight */
.neon::before{
  content:"";
  position:absolute;
  top:-120%; left:-20%;
  width:40%; height:340%;
  transform: rotate(18deg);
  background: radial-gradient(closest-side, color-mix(in oklab, var(--neon) 60%, #fff) 45%, transparent 55%);
  opacity:0; pointer-events:none; filter: blur(6px);
}
@media (prefers-reduced-motion: no-preference){
  .neon:hover::before, .neon:focus-visible::before { animation: neonSweep .7s ease-out; }
}
@keyframes neonSweep{
  0%{ left:-25%; opacity:0; }
  10%{ opacity:.45; }
  100%{ left:125%; opacity:0; }
}

/* Random “lit” pulse (JS toggles .lit) */
@media (prefers-reduced-motion: no-preference){
  .neon.lit{
    color: var(--neon-ink);
    border-color: color-mix(in oklab, var(--neon) 70%, var(--line));
    box-shadow:
      0 0 8px 0 color-mix(in oklab, var(--neon) 70%, transparent),
      0 0 20px 2px color-mix(in oklab, var(--neon) 55%, transparent),
      0 0 44px 10px color-mix(in oklab, var(--neon) 35%, transparent);
    animation: neonPulse .9s ease-in-out alternate 2;
  }
  @keyframes neonPulse{
    0%{ transform: translateY(0) scale(1); filter: saturate(1); }
    100%{ transform: translateY(-1px) scale(1.03); filter: saturate(1.2); }
  }
}

/* Party mode: stronger glow + pulsing aura + temporary page hue override */
.party-on { --party-mult: 1.8; --party-speed: 1.6; }
.party-bg { filter: hue-rotate(var(--party-hue)); }

.neon, .site-nav a.neon{ transition: box-shadow .18s ease, color .18s ease, border-color .18s ease, transform .18s ease; }
.neon.lit, .party-on .neon:hover, .party-on .neon:focus-visible{
  box-shadow:
    0 0 calc(10px * var(--party-mult)) color-mix(in oklab, var(--neon) 70%, transparent),
    0 0 calc(26px * var(--party-mult)) color-mix(in oklab, var(--neon) 55%, transparent),
    0 0 calc(60px * var(--party-mult)) color-mix(in oklab, var(--neon) 40%, transparent);
}
@media (prefers-reduced-motion: no-preference){
  .party-on .neon::after{
    animation: neonAura calc(1.8s / var(--party-speed)) ease-in-out infinite;
  }
  @keyframes neonAura{
    0%{
      box-shadow:
        0 0 0 1px color-mix(in oklab, var(--neon) 60%, transparent),
        0 0 12px 0 color-mix(in oklab, var(--neon) 45%, transparent);
    }
    100%{
      box-shadow:
        0 0 0 2px color-mix(in oklab, var(--neon) 70%, transparent),
        0 0 22px 4px color-mix(in oklab, var(--neon) 55%, transparent);
    }
  }
  /* Confetti spark on lit; disabled in perf-on */
  .neon.lit::before{
    content:"";
    position:absolute; inset:-10%; border-radius:inherit; pointer-events:none;
    background:
      radial-gradient(6px 6px at 20% 40%, color-mix(in oklab, var(--neon) 80%, #fff) 70%, transparent 71%),
      radial-gradient(5px 5px at 70% 60%, color-mix(in oklab, var(--neon) 70%, #fff) 70%, transparent 71%),
      radial-gradient(4px 4px at 40% 80%, color-mix(in oklab, var(--neon) 70%, #fff) 70%, transparent 71%);
    filter: blur(0.6px);
    opacity: 0;
    animation: confetti .9s ease-out forwards;
  }
  @keyframes confetti{
    0%{ opacity:0; transform: translateY(0) }
    30%{ opacity:.9; transform: translateY(-2px) }
    100%{ opacity:0; transform: translateY(2px) }
  }
}

/* Performance mode: damp it down for weak GPUs */
.perf-on { --party-mult: .7; --party-speed: .8; }
.perf-on .neon::after{ animation: none !important; }
.perf-on .neon.lit{
  box-shadow:
    0 0 6px 0 color-mix(in oklab, var(--neon) 50%, transparent),
    0 0 14px 1px color-mix(in oklab, var(--neon) 35%, transparent);
}
.perf-on .neon.lit::before{ display:none; }

/* Disable chaos effects on the Recompile page */
body[data-page="recompile"] .scanlines,
body[data-page="recompile"] .overlay {
  animation: none !important;
  filter: none !important;
}

body[data-page="recompile"] * {
  transform: none !important;
  animation: none !important;
  filter: none !important;
  transition: none !important;
}
.audio-player {
  position: fixed;
  bottom: 10px;
  right: 10px;
  display: flex;
  align-items: center;
  gap: 6px;
  background: rgba(0,0,0,0.6);
  border: 1px solid var(--g);
  border-radius: 8px;
  padding: 6px 10px;
  font-family: 'Share Tech Mono', monospace;
  color: var(--g);
  font-size: 0.8rem;
  z-index: 9999;
  box-shadow: 0 0 10px var(--g), inset 0 0 5px var(--b);
}
.audio-player button {
  background:none;
  border:none;
  color:var(--r);
  cursor:pointer;
  font-size:1.2rem;
  transition:transform .2s;
}
.audio-player button:hover { transform:scale(1.2) rotate(5deg); }
.audio-player span {
  color:var(--g);
  text-shadow:0 0 6px var(--b);
  letter-spacing:1px;
}
